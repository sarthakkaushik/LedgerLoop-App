{
  "expenses": {
    "table": "expenses",
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "primary_key": true
      },
      {
        "name": "household_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "logged_by_user_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "amount",
        "type": "double precision",
        "nullable": true,
        "default": null,
        "primary_key": false
      },
      {
        "name": "currency",
        "type": "character varying(8)",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "category",
        "type": "character varying(80)",
        "nullable": true,
        "default": null,
        "primary_key": false
      },
      {
        "name": "description",
        "type": "character varying(255)",
        "nullable": true,
        "default": null,
        "primary_key": false
      },
      {
        "name": "merchant_or_item",
        "type": "character varying(255)",
        "nullable": true,
        "default": null,
        "primary_key": false
      },
      {
        "name": "date_incurred",
        "type": "date",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "is_recurring",
        "type": "boolean",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "confidence",
        "type": "double precision",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "status",
        "type": "expensestatus",
        "nullable": false,
        "default": null,
        "primary_key": false,
        "enum_values": [
          "DRAFT",
          "CONFIRMED"
        ]
      },
      {
        "name": "source_text",
        "type": "character varying(2000)",
        "nullable": true,
        "default": null,
        "primary_key": false
      },
      {
        "name": "idempotency_key",
        "type": "character varying(120)",
        "nullable": true,
        "default": null,
        "primary_key": false
      },
      {
        "name": "created_at",
        "type": "timestamp without time zone",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "updated_at",
        "type": "timestamp without time zone",
        "nullable": false,
        "default": null,
        "primary_key": false
      }
    ],
    "foreign_keys": [
      {
        "from": "household_id",
        "to_table": "households",
        "to_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "NO ACTION"
      },
      {
        "from": "logged_by_user_id",
        "to_table": "users",
        "to_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "NO ACTION"
      }
    ],
    "indexes": [
      {
        "name": "expenses_pkey",
        "unique": true,
        "columns": [
          "id"
        ]
      },
      {
        "name": "ix_expenses_household_id",
        "unique": false,
        "columns": [
          "household_id"
        ]
      },
      {
        "name": "ix_expenses_id",
        "unique": false,
        "columns": [
          "id"
        ]
      },
      {
        "name": "ix_expenses_idempotency_key",
        "unique": false,
        "columns": [
          "idempotency_key"
        ]
      },
      {
        "name": "ix_expenses_logged_by_user_id",
        "unique": false,
        "columns": [
          "logged_by_user_id"
        ]
      },
      {
        "name": "ix_expenses_status",
        "unique": false,
        "columns": [
          "status"
        ]
      }
    ]
  },
  "users": {
    "table": "users",
    "columns": [
      {
        "name": "id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "primary_key": true
      },
      {
        "name": "email",
        "type": "character varying(320)",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "hashed_password",
        "type": "character varying(255)",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "full_name",
        "type": "character varying(120)",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "household_id",
        "type": "uuid",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "role",
        "type": "userrole",
        "nullable": false,
        "default": null,
        "primary_key": false,
        "enum_values": [
          "ADMIN",
          "MEMBER"
        ]
      },
      {
        "name": "is_active",
        "type": "boolean",
        "nullable": false,
        "default": null,
        "primary_key": false
      },
      {
        "name": "created_at",
        "type": "timestamp without time zone",
        "nullable": false,
        "default": null,
        "primary_key": false
      }
    ],
    "foreign_keys": [
      {
        "from": "household_id",
        "to_table": "households",
        "to_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "NO ACTION"
      }
    ],
    "indexes": [
      {
        "name": "ix_users_email",
        "unique": true,
        "columns": [
          "email"
        ]
      },
      {
        "name": "ix_users_household_id",
        "unique": false,
        "columns": [
          "household_id"
        ]
      },
      {
        "name": "ix_users_id",
        "unique": false,
        "columns": [
          "id"
        ]
      },
      {
        "name": "users_pkey",
        "unique": true,
        "columns": [
          "id"
        ]
      }
    ]
  }
}
